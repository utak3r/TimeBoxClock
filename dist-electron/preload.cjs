"use strict";const r=require("electron");r.ipcRenderer.send("log","Preload script running");console.log("Preload script loaded");r.contextBridge.exposeInMainWorld("ipcRenderer",{on(...e){const[o,n]=e;return r.ipcRenderer.on(o,(d,...t)=>n(d,...t))},off(...e){const[o,...n]=e;return r.ipcRenderer.off(o,...n)},send(...e){const[o,...n]=e;return r.ipcRenderer.send(o,...n)},invoke(...e){const[o,...n]=e;return r.ipcRenderer.invoke(o,...n)}});try{r.contextBridge.exposeInMainWorld("db",{getProjects:()=>r.ipcRenderer.invoke("db:get-projects"),addProject:e=>r.ipcRenderer.invoke("db:add-project",e),updateProject:e=>r.ipcRenderer.invoke("db:update-project",e),deleteProject:e=>r.ipcRenderer.invoke("db:delete-project",e),getJobs:()=>r.ipcRenderer.invoke("db:get-jobs"),addJob:e=>r.ipcRenderer.invoke("db:add-job",e),updateJob:e=>r.ipcRenderer.invoke("db:update-job",e),deleteJob:e=>r.ipcRenderer.invoke("db:delete-job",e)}),console.log("Database API exposed")}catch(e){console.error("Failed to expose Database API:",e)}
